{% extends "base.html" %}
{% block title %}Treatment Details - HMS{% endblock %}
{% block content %}

<h2>Treatment Details</h2>

<div class="card mb-3">
  <div class="card-body">
    <h5 class="card-title">Appointment Info</h5>
    <p class="mb-1"><strong>Patient:</strong> {{ appointment.patient.name }}</p>
    <p class="mb-1"><strong>Date &amp; Time:</strong> {{ appointment.appointment_start | format_datetime }}</p>
    <p class="mb-0"><strong>Reason:</strong> {{ appointment.reason or 'N/A' }}</p>
  </div>
</div>

<form method="POST">
  <div class="mb-3">
    <label for="diagnosis" class="form-label">Diagnosis</label>
    <textarea class="form-control" id="diagnosis" name="diagnosis" rows="3" required>{{ treatment.diagnosis if treatment else '' }}</textarea>
  </div>

  <div class="mb-3">
    <label for="prescription" class="form-label">Prescription</label>
    <textarea class="form-control" id="prescription" name="prescription" rows="3"
              placeholder="Medicines, dosage, etc.">{{ treatment.prescription if treatment else '' }}</textarea>
  </div>

  <div class="mb-3">
    <label for="notes" class="form-label">Notes</label>
    <textarea class="form-control" id="notes" name="notes" rows="3"
              placeholder="Additional instructions or observations">{{ treatment.notes if treatment else '' }}</textarea>
  </div>

  <button type="submit" class="btn btn-primary">Save Treatment</button>
  <a href="{{ url_for('doctor.dashboard') }}" class="btn btn-secondary ms-2">Back to Dashboard</a>
</form>

{% endblock %}
